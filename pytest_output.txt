============================= test session starts =============================
platform win32 -- Python 3.12.7, pytest-7.4.3, pluggy-1.6.0
rootdir: C:\Users\theha\Documents\GIT\FantasyF1\FantasyF1_BE
configfile: pyproject.toml
plugins: anyio-3.7.1, Flask-Dance-7.1.0, asyncio-0.21.1, cov-4.1.0
asyncio: mode=Mode.AUTO
collected 43 items

tests\test_auth_endpoints.py EEEEEEEEEEEE                                [ 27%]
tests\test_driver_service.py EEEEEEEEEE                                  [ 51%]
tests\test_health_async.py EE                                            [ 55%]
tests\test_main.py EE                                                    [ 60%]
tests\test_user_service.py EEEEEEEEEEEEEEEEE                             [100%]

=================================== ERRORS ====================================
___________________ ERROR at setup of test_register_success ___________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_____________ ERROR at setup of test_register_duplicate_username ______________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
________________ ERROR at setup of test_register_weak_password ________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
____________________ ERROR at setup of test_login_success _____________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_________________ ERROR at setup of test_login_wrong_password _________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
________________ ERROR at setup of test_login_nonexistent_user ________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
________________ ERROR at setup of test_refresh_token_success _________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
________________ ERROR at setup of test_refresh_token_invalid _________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_______________ ERROR at setup of test_get_current_user_profile _______________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
________ ERROR at setup of test_get_current_user_profile_unauthorized _________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_____________ ERROR at setup of test_update_current_user_profile ______________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_________________ ERROR at setup of test_update_user_password _________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
____________________ ERROR at setup of test_create_driver _____________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
___________________ ERROR at setup of test_get_driver_by_id ___________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
______________ ERROR at setup of test_get_driver_by_id_not_found ______________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_____________________ ERROR at setup of test_get_by_name ______________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
___________________ ERROR at setup of test_get_all_drivers ____________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
____________________ ERROR at setup of test_search_drivers ____________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
____________________ ERROR at setup of test_update_driver _____________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
____________________ ERROR at setup of test_delete_driver _____________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
____________________ ERROR at setup of test_count_drivers _____________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_________________ ERROR at setup of test_get_drivers_by_team __________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
__________________ ERROR at setup of test_health_check_async __________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_________________ ERROR at setup of test_root_endpoint_async __________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_____________________ ERROR at setup of test_health_check _____________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
____________________ ERROR at setup of test_root_endpoint _____________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_________________ ERROR at setup of test_create_user_success __________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
____________ ERROR at setup of test_create_user_duplicate_username ____________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_____________ ERROR at setup of test_create_user_duplicate_email ______________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
______________ ERROR at setup of test_create_user_weak_password _______________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
________________ ERROR at setup of test_get_user_by_id_success ________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_______________ ERROR at setup of test_get_user_by_id_not_found _______________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_____________ ERROR at setup of test_get_user_by_username_success _____________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
____________ ERROR at setup of test_get_user_by_username_not_found ____________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
______________ ERROR at setup of test_get_user_by_email_success _______________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_____________ ERROR at setup of test_get_user_by_email_not_found ______________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_________________ ERROR at setup of test_authenticate_success _________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_____________ ERROR at setup of test_authenticate_wrong_password ______________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
____________ ERROR at setup of test_authenticate_nonexistent_user _____________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_________________ ERROR at setup of test_update_user_success __________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_________________ ERROR at setup of test_update_user_password _________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
_________________ ERROR at setup of test_delete_user_success __________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
________________ ERROR at setup of test_delete_user_not_found _________________

event_loop = <ProactorEventLoop running=False closed=False debug=False>
request = <SubRequest '_setup_database' for <Function test_register_success>>
kwargs = {}
setup = <function _wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup at 0x000002C628A500E0>

    @functools.wraps(fixture)
    def _async_fixture_wrapper(
        event_loop: asyncio.AbstractEventLoop, request: SubRequest, **kwargs: Any
    ):
        func = _perhaps_rebind_fixture_func(
            fixture, request.instance, fixturedef.unittest
        )
    
        async def setup():
            res = await func(**_add_kwargs(func, kwargs, event_loop, request))
            return res
    
>       return event_loop.run_until_complete(setup())

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:326: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\asyncio\base_events.py:687: in run_until_complete
    return future.result()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pytest_asyncio\plugin.py:323: in setup
    res = await func(**_add_kwargs(func, kwargs, event_loop, request))
tests\conftest.py:77: in _setup_database
    async with engine.connect() as conn:
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\base.py:125: in __aenter__
    return await self.start(is_ctxmanager=True)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py:270: in start
    await greenlet_spawn(self.sync_engine.connect)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:200: in greenlet_spawn
    result = context.throw(*sys.exc_info())
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3269: in connect
    return self._connection_cls(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:145: in __init__
    self._dbapi_connection = engine.raw_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\base.py:3293: in raw_connection
    return self.pool.connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:452: in connect
    return _ConnectionFairy._checkout(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:1269: in _checkout
    fairy = _ConnectionRecord.checkout(pool)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:716: in checkout
    rec = pool._do_get()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:169: in _do_get
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\impl.py:167: in _do_get
    return self._create_connection()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:393: in _create_connection
    return _ConnectionRecord(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:678: in __init__
    self.__connect()
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:902: in __connect
    with util.safe_reraise():
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\langhelpers.py:146: in __exit__
    raise exc_value.with_traceback(exc_tb)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\pool\base.py:898: in __connect
    self.dbapi_connection = connection = pool._invoke_creator(self)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\create.py:645: in connect
    return dialect.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\engine\default.py:616: in connect
    return self.loaded_dbapi.connect(*cargs, **cparams)
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\dialects\postgresql\asyncpg.py:941: in connect
    await_only(creator_fn(*arg, **kw)),
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:130: in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py:195: in greenlet_spawn
    value = await result
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connection.py:2329: in connect
    return await connect_utils._connect(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:991: in _connect
    conn = await _connect_addr(
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:828: in _connect_addr
    return await __connect_addr(params, True, *args)
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

params = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)
retry = True, addr = ('localhost', 5432)
loop = <ProactorEventLoop running=False closed=False debug=False>
config = ConnectionConfiguration(command_timeout=None, statement_cache_size=100, max_cached_statement_lifetime=300, max_cacheable_statement_size=15360)
connection_class = <class 'asyncpg.connection.Connection'>
record_class = <class 'asyncpg.Record'>
params_input = ConnectionParameters(user='fantasyf1_dev', password='dev_password_123', database='fantasyf1_dev', ssl=<ssl.SSLContext ...slmode=<SSLMode.prefer: 2>, direct_tls=False, server_settings=None, target_session_attrs=<SessionAttribute.any: 'any'>)

    async def __connect_addr(
        params,
        retry,
        addr,
        loop,
        config,
        connection_class,
        record_class,
        params_input,
    ):
        connected = _create_future(loop)
    
        proto_factory = lambda: protocol.Protocol(
            addr, connected, params, record_class, loop)
    
        if isinstance(addr, str):
            # UNIX socket
            connector = loop.create_unix_connection(proto_factory, addr)
    
        elif params.ssl and params.direct_tls:
            # if ssl and direct_tls are given, skip STARTTLS and perform direct
            # SSL connection
            connector = loop.create_connection(
                proto_factory, *addr, ssl=params.ssl
            )
    
        elif params.ssl:
            connector = _create_ssl_connection(
                proto_factory, *addr, loop=loop, ssl_context=params.ssl,
                ssl_is_advisory=params.sslmode == SSLMode.prefer)
        else:
            connector = loop.create_connection(proto_factory, *addr)
    
        tr, pr = await connector
    
        try:
>           await connected
E           asyncpg.exceptions.InvalidPasswordError: password authentication failed for user "fantasyf1_dev"

..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\asyncpg\connect_utils.py:876: InvalidPasswordError
============================== warnings summary ===============================
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\_internal\_config.py:271
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\_internal\_config.py:271
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\_internal\_config.py:271
..\..\..\..\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\_internal\_config.py:271
  C:\Users\theha\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\_internal\_config.py:271: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.5/migration/
    warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
ERROR tests/test_auth_endpoints.py::test_register_success - asyncpg.exception...
ERROR tests/test_auth_endpoints.py::test_register_duplicate_username - asyncp...
ERROR tests/test_auth_endpoints.py::test_register_weak_password - asyncpg.exc...
ERROR tests/test_auth_endpoints.py::test_login_success - asyncpg.exceptions.I...
ERROR tests/test_auth_endpoints.py::test_login_wrong_password - asyncpg.excep...
ERROR tests/test_auth_endpoints.py::test_login_nonexistent_user - asyncpg.exc...
ERROR tests/test_auth_endpoints.py::test_refresh_token_success - asyncpg.exce...
ERROR tests/test_auth_endpoints.py::test_refresh_token_invalid - asyncpg.exce...
ERROR tests/test_auth_endpoints.py::test_get_current_user_profile - asyncpg.e...
ERROR tests/test_auth_endpoints.py::test_get_current_user_profile_unauthorized
ERROR tests/test_auth_endpoints.py::test_update_current_user_profile - asyncp...
ERROR tests/test_auth_endpoints.py::test_update_user_password - asyncpg.excep...
ERROR tests/test_driver_service.py::test_create_driver - asyncpg.exceptions.I...
ERROR tests/test_driver_service.py::test_get_driver_by_id - asyncpg.exception...
ERROR tests/test_driver_service.py::test_get_driver_by_id_not_found - asyncpg...
ERROR tests/test_driver_service.py::test_get_by_name - asyncpg.exceptions.Inv...
ERROR tests/test_driver_service.py::test_get_all_drivers - asyncpg.exceptions...
ERROR tests/test_driver_service.py::test_search_drivers - asyncpg.exceptions....
ERROR tests/test_driver_service.py::test_update_driver - asyncpg.exceptions.I...
ERROR tests/test_driver_service.py::test_delete_driver - asyncpg.exceptions.I...
ERROR tests/test_driver_service.py::test_count_drivers - asyncpg.exceptions.I...
ERROR tests/test_driver_service.py::test_get_drivers_by_team - asyncpg.except...
ERROR tests/test_health_async.py::test_health_check_async - asyncpg.exception...
ERROR tests/test_health_async.py::test_root_endpoint_async - asyncpg.exceptio...
ERROR tests/test_main.py::test_health_check - asyncpg.exceptions.InvalidPassw...
ERROR tests/test_main.py::test_root_endpoint - asyncpg.exceptions.InvalidPass...
ERROR tests/test_user_service.py::test_create_user_success - asyncpg.exceptio...
ERROR tests/test_user_service.py::test_create_user_duplicate_username - async...
ERROR tests/test_user_service.py::test_create_user_duplicate_email - asyncpg....
ERROR tests/test_user_service.py::test_create_user_weak_password - asyncpg.ex...
ERROR tests/test_user_service.py::test_get_user_by_id_success - asyncpg.excep...
ERROR tests/test_user_service.py::test_get_user_by_id_not_found - asyncpg.exc...
ERROR tests/test_user_service.py::test_get_user_by_username_success - asyncpg...
ERROR tests/test_user_service.py::test_get_user_by_username_not_found - async...
ERROR tests/test_user_service.py::test_get_user_by_email_success - asyncpg.ex...
ERROR tests/test_user_service.py::test_get_user_by_email_not_found - asyncpg....
ERROR tests/test_user_service.py::test_authenticate_success - asyncpg.excepti...
ERROR tests/test_user_service.py::test_authenticate_wrong_password - asyncpg....
ERROR tests/test_user_service.py::test_authenticate_nonexistent_user - asyncp...
ERROR tests/test_user_service.py::test_update_user_success - asyncpg.exceptio...
ERROR tests/test_user_service.py::test_update_user_password - asyncpg.excepti...
ERROR tests/test_user_service.py::test_delete_user_success - asyncpg.exceptio...
ERROR tests/test_user_service.py::test_delete_user_not_found - asyncpg.except...
======================= 4 warnings, 43 errors in 7.74s ========================
